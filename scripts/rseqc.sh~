#!/bin/sh

# BAM file that you want to do the analysis on
BAM=$1

# Output directory where you want all the results to go
# Files will be prepended with "PREFIX"
OUT_DIR=$2

# BED files of which you want to see the gene body coverage
BED=$3

# Names to prefix your output files of these BED files with
BED_NAMES=$4

# Make plots via PREFIX
# BAM=tophat_6n6_trimmed_34_merged_rmdup.bam ; REF_BED=/home/obot/bed_and_gtf/hg19_ucsc-genes.bed ; SINO_BED=/home/obot/bed_and_gtf/hg19_ucsc-genes.bed ; PREFIX=PREFIX

PREFIX=$OUT_DIR/PREFIX

echo 'clipping_profile.py' ; clipping_profile.py --input-file $BAM --out-prefix $PREFIX
echo 'geneBody_coverage.py' ; geneBody_coverage.py --input-file $BAM --refgene $BED --out-prefix $PREFIX
echo 'inner_distance.py' ; inner_distance.py --input-file $BAM --refgene $REF_BED --out-prefix $PREFIX
echo 'junction_annotation.py' ; junction_annotation.py --input-file $BAM --refgene $REF_BED --out-prefix $PREFIX
echo 'junction_saturation.py' ; junction_saturation.py --input-file $BAM --refgene $REF_BED --out-prefix $PREFIX
echo 'read_duplication.py' ; read_duplication.py --input-file $BAM --out-prefix $PREFIX
echo 'read_GC.py' ; read_GC.py --input-file $BAM --out-prefix $PREFIX
echo 'read_NVC.py' ; read_NVC.py --input-file $BAM --out-prefix $PREFIX
echo 'read_quality.py' ; read_quality.py --input-file $BAM --out-prefix $PREFIX
echo 'RPKM_saturation.py' ; RPKM_saturation.py --input-file $BAM --out-prefix $PREFIX --refgene $REF_BED 
echo 'RPKM_count.py' ; RPKM_count.py --input-file $BAM --out-prefix $PREFIX --refgene $REF_BED